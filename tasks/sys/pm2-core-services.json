[
  {
    "name": "web-{pg.cluster.name}",
    "run_as_user": "{xt.name}",
    "script": "/usr/sbin/xtuple/{xt.version}/{xt.name}/main.js",
    "args": "[ '-c', '/etc/xtuple/{xt.version}/{xt.name}/config.js' ]",
    "interpreter": "{xt.nodeBin}",
    "instances": "1",
    "USER": "{xt.name}",
    "HOME": "{xt.userhome}",
    "env": {
      "NODE_ENV": "production",
      "PORT": "{xt.port}",
      "XT_PROCESS": "web-{xt.version}",
      "XT_VERSION": "{xt.version}",
      "XT_DOMAIN": "{nginx.domain}",
      "XT_URL": "{nginx.domain}",
      "XT_SCHEDULE": "Always On"
    },
    "out_file": "{xt.logdir}/node-web-access.log",
    "error_file": "{xt.logdir}/node-web-error.log",
    "pid_file": "{xt.statedir}/node-web.pid",
    "min_uptime": 10000
  },
  {
    "name": "healthfeed-{pg.cluster.name}",
    "run_as_user": "{xt.name}",
    "script": "/usr/local/bin/xtuple-healthfeed",
    "instances": "1",
    "USER": "{xt.name}",
    "HOME": "{xt.userhome}",
    "NODE_ENV": "production",
    "PORT": "{nginx.healthfeedport}",
    "env": {
      "NODE_ENV": "production",
      "PORT": "{nginx.healthfeedport}",
      "XT_PROCESS": "xtuple-healthfeed",
      "XT_VERSION": "{xt.version}",
      "XT_DOMAIN": "{nginx.domain}",
      "XT_URL": "/_healthfeed",
      "XT_SCHEDULE": "Always On",
      "PM2_API_PORT": "{nginx.healthfeedport}"
    },
    "out_file": "{xt.logdir}/healthfeed-web-access.log",
    "error_file": "{xt.logdir}/healthfeed-web-error.log",
    "pid_file": "{xt.statedir}/healthfeed-web.pid",
    "min_uptime": 30000
  }
]
